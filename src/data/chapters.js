/**
 * 家畜育种学（第二版）— 11章完整课程数据
 * 涵盖绪论 + 第1-10章所有核心概念、公式、例题与先修关系
 */

const chapters = [
    {
        id: 0,
        number: '绪论',
        title: '畜牧业与家畜育种学',
        icon: '📖',
        color: '#63b3ed',
        summary: '育种学的定义、研究对象、任务与发展简史；课程框架与学习方法指导。',
        concepts: [
            { name: '育种学定义', desc: '研究改良家畜遗传品质、提高生产性能的科学。' },
            { name: '遗传改良', desc: '通过选择和交配改变群体基因频率，提高目标性状的遗传水平。' },
            { name: '育种目标', desc: '产量性状、适应性性状、健康性状的综合改良方向。' },
            { name: '育种学与相关学科', desc: '与遗传学、统计学、分子生物学的交叉关系。' },
        ],
        formulas: [],
        prerequisites: ['基础遗传学', '畜牧概论'],
        learningObjectives: [
            '理解家畜育种学的定义、研究对象与核心任务',
            '掌握遗传改良的基本原理与途径',
            '了解家畜育种学的发展简史与主要成就',
            '认识育种学与遗传学、统计学、分子生物学的交叉关系',
        ],
        caseStudy: {
            title: '中国荷斯坦牛的遗传改良历程',
            description: '中国从20世纪初引进荷斯坦牛，经历了近百年的系统选育。通过引种、杂交、横交固定和持续选择，全国荷斯坦牛平均单产从2000kg提高到超过8000kg，部分核心群已达11000kg以上，展示了系统性育种工作的巨大潜力。',
            insight: '遗传改良是一个长期系统工程，需要明确的育种目标、完善的性能测定体系和科学的选种选配方案。',
        },
        difficulty: 1,
        studyHours: 2,
    },
    {
        id: 1,
        number: '第一章',
        title: '家畜的起源、驯化与品种',
        icon: '🐄',
        color: '#68d391',
        summary: '家畜起源与驯化历史；品种形成机制；品种分类与鉴定方法；中国地方品种资源。',
        concepts: [
            { name: '驯化', desc: '将野生动物选育为家畜的过程，涉及行为、形态和生理的改变。' },
            { name: '品种', desc: '经过人工选择育成的、具有一定经济性状和遗传稳定性的动物群体。' },
            { name: '品系', desc: '品种内具有共同祖先、相似性状的群体，是品种内部的遗传结构单位。' },
            { name: '品种形成', desc: '自然选择与人工选择共同作用下，群体遗传组成定向改变的过程。' },
        ],
        formulas: [],
        prerequisites: ['动物学基础', '畜牧概论'],
        learningObjectives: [
            '了解主要家畜的起源中心与驯化历史',
            '掌握品种形成的遗传学机制',
            '理解品种分类方法与品种鉴定标准',
            '认识中国地方品种资源的多样性与保护价值',
        ],
        caseStudy: {
            title: '巴彦淖尔肉羊——从地方品种到培育品种',
            description: '内蒙古巴彦淖尔地区利用当地蒙古羊为母本，引入德国肉用美利奴等优良品种为父本，经过多年杂交选育，培育出适应当地干旱半干旱环境、肉用性能优良的肉羊新品种。该品种既保留了地方品种的耐粗饲、适应性强等优点，又具备了引入品种的高产肉性能。',
            insight: '品种培育需要兼顾生产性能和环境适应性，地方品种的基因资源在育种方案中具有不可替代的价值。',
        },
        difficulty: 2,
        studyHours: 4,
    },
    {
        id: 2,
        number: '第二章',
        title: '畜禽主要性状的遗传规律',
        icon: '🧬',
        color: '#b794f6',
        summary: '质量性状与数量性状的遗传特点；性状的表型值分解；遗传力与遗传相关的概念与意义。',
        concepts: [
            { name: '质量性状', desc: '由少数基因控制、表现不连续变异的性状（如毛色、角型）。' },
            { name: '数量性状', desc: '由多基因（微效多基因）控制、表现连续变异的性状（如产奶量、体重）。' },
            { name: '阈性状', desc: '遗传基础为数量性状但表型呈非此即彼的分类性状（如抗病力）。' },
            { name: '表型值分解', desc: 'P = G + E = A + D + I + E，其中A为加性效应、D为显性偏差。' },
            { name: '遗传力', desc: '加性遗传方差占表型方差的比例，是选择育种的基础参数。' },
        ],
        formulas: [
            { name: '表型值分解', latex: 'P = G + E = A + D + I + E', desc: '表型值(P)等于基因型值(G)与环境效应(E)之和' },
            { name: '表型方差分解', latex: 'V_P = V_A + V_D + V_I + V_E', desc: '表型方差等于加性方差、显性方差、互作方差与环境方差之和' },
            { name: '狭义遗传力', latex: 'h^2 = \\frac{V_A}{V_P}', desc: '加性遗传方差占表型方差的比例，决定选择反应的大小' },
            { name: '广义遗传力', latex: 'H^2 = \\frac{V_G}{V_P} = \\frac{V_A + V_D + V_I}{V_P}', desc: '总遗传方差占表型方差的比例' },
        ],
        prerequisites: ['概率统计入门', '遗传学基础'],
        learningObjectives: [
            '区分质量性状、数量性状和阈性状的遗传特点',
            '掌握表型值的分解（P=A+D+I+E）',
            '理解遗传力的概念、估计方法及其在育种中的意义',
            '学会计算狭义遗传力和广义遗传力',
        ],
        caseStudy: {
            title: '奶牛产奶量遗传力的估计',
            description: '通过对全国奶牛DHI（奶牛生产性能测定）数据的分析，研究者利用父系半同胞法估计荷斯坦牛305天产奶量的遗传力为0.25-0.30。这意味着产奶量表型变异中约25-30%由加性遗传效应决定，个体选择仍然有效但准确度有限。',
            insight: '遗传力是制定育种方案的基础参数。中等遗传力性状需要结合家系信息（BLUP）来提高选择准确度。',
        },
        difficulty: 3,
        studyHours: 6,
    },
    {
        id: 3,
        number: '第三章',
        title: '生产性能测定',
        icon: '📊',
        color: '#f6ad55',
        summary: '性能测定的目的与原则；主要畜种性能测定方案设计；数据校正方法；测定组织与管理。',
        concepts: [
            { name: '性能测定', desc: '对家畜生产性能进行系统化测量与记录的过程。' },
            { name: '校正因子', desc: '校正环境因素（年龄、季节、胎次等）影响，使数据具有可比性。' },
            { name: '305天产奶量', desc: '奶牛标准泌乳期的产奶量，用于不同个体间的公平比较。' },
            { name: '系统误差', desc: '可预测的环境影响，可通过校正消除。' },
            { name: '随机误差', desc: '不可预测的随机变异，只能通过重复测定降低。' },
        ],
        formulas: [
            { name: '校正公式', latex: 'y_{\\text{校正}} = y_{\\text{实际}} \\times \\text{校正系数}', desc: '将实际测定值校正为标准条件下的值' },
            { name: '重复力', latex: 'r = \\frac{V_G + V_{E_p}}{V_P}', desc: '个体不同时期观测值间的相关，r ≥ h²' },
        ],
        prerequisites: ['统计学基础'],
        learningObjectives: [
            '理解性能测定在育种工作中的核心地位',
            '掌握主要畜种的性能测定方案设计',
            '学会数据校正方法（年龄、季节、胎次等）',
            '了解测定数据的质量控制与管理',
        ],
        caseStudy: {
            title: 'DHI体系——奶牛生产性能测定的国际标准',
            description: 'DHI（Dairy Herd Improvement）是国际通行的奶牛生产性能测定体系。通过每月定期采样、化验和记录产奶量与乳成分数据，DHI数据为遗传评定、牛群管理和育种决策提供了标准化的基础信息。中国自2006年起大力推广DHI体系。',
            insight: '准确、系统的性能测定是一切遗传评定和育种决策的基础，"没有测定就没有改良"。',
        },
        difficulty: 2,
        studyHours: 4,
    },
    {
        id: 4,
        number: '第四章',
        title: '选择原理与方法',
        icon: '🎯',
        color: '#fc8181',
        summary: '选择的遗传学基础；选择反应公式；影响选择效果的因素；各种选择方法比较。',
        concepts: [
            { name: '选择差(S)', desc: '被选留个体的平均表型值与群体平均值之差。' },
            { name: '选择强度(i)', desc: '标准化选择差，i = S / σP，取决于选留比例。' },
            { name: '选择反应(ΔG)', desc: '选择导致的后代群体遗传平均值的改变量。' },
            { name: '世代间隔(L)', desc: '亲代与其替换子代出生时间的平均间隔。' },
            { name: '综合选择指数', desc: '将多个性状按经济权重综合为一个选择标准。' },
        ],
        formulas: [
            { name: '选择反应（每世代）', latex: '\\Delta G = i \\times h^2 \\times \\sigma_P', desc: '遗传进展等于选择强度、遗传力和表型标准差的乘积' },
            { name: '年遗传进展', latex: '\\Delta G_{\\text{年}} = \\frac{i \\times h^2 \\times \\sigma_P}{L}', desc: '每年的遗传进展等于每世代进展除以世代间隔' },
            { name: '综合选择指数', latex: 'I = b_1 x_1 + b_2 x_2 + \\cdots + b_n x_n', desc: '多性状加权综合选择标准' },
            { name: '选择准确度', latex: 'r_{TI} = \\frac{\\text{Cov}(T,I)}{\\sigma_T \\sigma_I}', desc: '真实育种值与选择指数的相关' },
        ],
        prerequisites: ['方差分解', '线性代数基础'],
        learningObjectives: [
            '掌握育种者方程 ΔG = i × h² × σP 及其应用',
            '理解影响遗传进展的四大因素',
            '比较不同选择方法（个体、家系、家系内、综合指数）的适用条件',
            '学会计算年遗传进展并优化育种方案',
        ],
        caseStudy: {
            title: '猪的综合选择指数实践',
            description: '在现代猪育种中，选择目标通常包括日增重、料重比、背膘厚度、瘦肉率和产仔数等多个性状。通过构建综合选择指数，将各性状的遗传参数和经济权重纳入统一方程，使得总体经济育种值的改良速度最大化。研究表明，使用综合选择指数比独立淘汰法的效率提高20-30%。',
            insight: '多性状选择时，综合选择指数法在理论上是最优方法，但实施需要准确的遗传参数和经济权重。',
        },
        difficulty: 4,
        studyHours: 8,
    },
    {
        id: 5,
        number: '第五章',
        title: '个体遗传评定',
        icon: '🔬',
        color: '#63b3ed',
        summary: '★全书最难★ BLUP法与混合模型方程组；A矩阵与近交系数；动物模型的建立与求解。',
        concepts: [
            { name: 'BLUE', desc: '最佳线性无偏估计——用于估计固定效应（如场效应、年份效应）。' },
            { name: 'BLUP', desc: '最佳线性无偏预测——用于预测随机效应（育种值）。' },
            { name: '混合模型', desc: 'y = Xb + Za + e，同时包含固定效应b和随机效应a的线性模型。' },
            { name: 'MME', desc: '混合模型方程组——联合求解固定效应和育种值的矩阵方程。' },
            { name: 'A矩阵', desc: '加性遗传关系矩阵，反映个体间的亲缘关系程度。' },
            { name: '近交系数F', desc: '个体两个等位基因来自共同祖先（同源一致）的概率。' },
            { name: '动物模型', desc: 'Z为单位矩阵形式的混合模型，每个个体都有对应的育种值。' },
        ],
        formulas: [
            { name: '混合线性模型', latex: '\\mathbf{y} = \\mathbf{X}\\mathbf{b} + \\mathbf{Z}\\mathbf{a} + \\mathbf{e}', desc: 'y为观测值，X/Z为设计矩阵，b为固定效应，a为育种值，e为残差' },
            { name: 'MME方程组', latex: '\\begin{bmatrix} \\mathbf{X\'X} & \\mathbf{X\'Z} \\\\ \\mathbf{Z\'X} & \\mathbf{Z\'Z} + \\mathbf{A}^{-1}\\alpha \\end{bmatrix} \\begin{bmatrix} \\hat{\\mathbf{b}} \\\\ \\hat{\\mathbf{a}} \\end{bmatrix} = \\begin{bmatrix} \\mathbf{X\'y} \\\\ \\mathbf{Z\'y} \\end{bmatrix}', desc: 'Henderson混合模型方程组，α = σ²_e / σ²_a' },
            { name: '方差比', latex: '\\alpha = \\frac{\\sigma_e^2}{\\sigma_a^2}', desc: '残差方差与加性遗传方差的比值，用于构建MME' },
            { name: 'A矩阵对角元', latex: 'a_{ii} = 1 + F_i = 1 + \\frac{1}{2} a_{sd}', desc: '其中s和d为个体i的父母，F_i为近交系数' },
            { name: 'A矩阵非对角元', latex: 'a_{ij} = \\frac{1}{2}(a_{j,s_i} + a_{j,d_i})', desc: '个体i与j的亲缘关系系数' },
        ],
        prerequisites: ['线性代数（矩阵运算）', '统计推断', '方差分解'],
        learningObjectives: [
            '理解混合线性模型的结构与假设',
            '掌握Henderson混合模型方程组（MME）的构建与求解',
            '学会构建A矩阵并计算近交系数',
            '理解BLUE和BLUP的统计性质与区别',
            '能够手工推演小规模MME实例',
        ],
        caseStudy: {
            title: '中国种公牛遗传评估体系',
            description: '中国奶牛遗传评估中心采用动物模型BLUP方法，利用全国DHI数据和系谱信息，对种公牛进行遗传评估。模型中同时考虑场-年-季效应（固定效应）和个体育种值（随机效应），通过求解大规模MME方程组获得所有个体的EBV。当前评估系统已覆盖超过百万头牛的系谱信息。',
            insight: 'BLUP方法是当前全球动物育种中最广泛使用的遗传评定方法，其核心优势在于同时校正环境效应并利用亲缘关系信息。',
        },
        difficulty: 5,
        studyHours: 12,
    },
    {
        id: 6,
        number: '第六章',
        title: '个体选配',
        icon: '💑',
        color: '#b794f6',
        summary: '选配的概念与原则；品质选配与亲缘选配；配种方案设计与近交控制。',
        concepts: [
            { name: '选配', desc: '有目的地组织公母畜的配合，以获得理想后代的过程。' },
            { name: '品质选配', desc: '根据性状表现选择交配对象：同质选配巩固优良性状，异质选配互补。' },
            { name: '亲缘选配', desc: '根据亲缘关系决定交配对象：近交或避免近交。' },
            { name: '近交衰退', desc: '近交导致群体适应性和繁殖力下降的现象。' },
        ],
        formulas: [
            { name: '近交系数', latex: 'F = \\sum_{\\text{paths}} \\left[\\left(\\frac{1}{2}\\right)^{n_1+n_2+1}(1+F_A)\\right]', desc: '通过所有共同祖先A的路径计算近交系数' },
        ],
        prerequisites: ['遗传评定基础', '概率论'],
        learningObjectives: [
            '理解选配的概念、原则及其在育种中的作用',
            '区分品质选配（同质/异质）和亲缘选配（近交/远交）',
            '掌握近交系数的计算方法（路径法）',
            '了解近交衰退的遗传机制与控制策略',
        ],
        caseStudy: {
            title: '种猪场近交控制的最优贡献法',
            description: '在闭锁核心群育种中，近交积累是主要风险。现代种猪场采用最优贡献选择（OCS）方法，在最大化遗传进展的同时限制每代近交增量不超过1%。OCS通过优化每头种畜的配种贡献比例，实现遗传进展与遗传多样性保持的最优平衡。',
            insight: '育种实践中必须在遗传进展和近交控制之间取得平衡，最优贡献选择法是解决这一矛盾的现代工具。',
        },
        difficulty: 3,
        studyHours: 6,
    },
    {
        id: 7,
        number: '第七章',
        title: '品种与品系培育',
        icon: '🏗️',
        color: '#4fd1c5',
        summary: '育种方案设计；核心群与扩繁体系；闭锁群与开放群育种；品系建立方法。',
        concepts: [
            { name: '核心群', desc: '品种中经过严格选择的优秀种畜群体，是遗传改良的源泉。' },
            { name: '扩繁体系', desc: '核心群→繁殖群→商品群的金字塔式遗传传递体系。' },
            { name: '闭锁群', desc: '不引入外血的选育群体，通过群内选择实现遗传改良。' },
            { name: '开放群', desc: '允许引入外部优秀个体的选育群体，可加速遗传进展。' },
            { name: 'MOET', desc: '多次排卵和胚胎移植——加速良种繁殖的核心技术。' },
        ],
        formulas: [
            { name: '有效群体大小', latex: 'N_e = \\frac{4 N_m N_f}{N_m + N_f}', desc: '考虑公母比例不等时的有效群体大小' },
            { name: '近交增量', latex: '\\Delta F = \\frac{1}{2 N_e}', desc: '每世代近交系数的增加量' },
        ],
        prerequisites: ['选择原理', '遗传评定'],
        learningObjectives: [
            '掌握核心群-扩繁群-商品群的金字塔育种体系',
            '理解闭锁群与开放群育种的优缺点',
            '学会计算有效群体大小和每代近交增量',
            '了解MOET等繁殖技术在加速遗传进展中的应用',
        ],
        caseStudy: {
            title: '丹麦养猪业的开放核心群育种体系',
            description: '丹麦是全球养猪育种最先进的国家之一。其核心群育种计划（DanBred）采用开放核心群体系，允许商品群和扩繁群中的优秀母猪"上流"进入核心群，从而扩大了选择群体的基础。这一体系结合基因组选择技术，使丹麦猪的年遗传进展保持在国际领先水平。',
            insight: '开放核心群体系通过扩大选择基础提高了遗传改良效率，是现代育种方案设计的重要范式。',
        },
        difficulty: 3,
        studyHours: 6,
    },
    {
        id: 8,
        number: '第八章',
        title: '杂种优势利用',
        icon: '⚡',
        color: '#f6ad55',
        summary: '杂种优势的遗传学基础；杂交方式；配合力测定；专门化品系。',
        concepts: [
            { name: '杂种优势', desc: '杂交后代性能超过亲代平均水平的现象，尤其在繁殖性状中表现突出。' },
            { name: '一般配合力(GCA)', desc: '一个品种/品系与多个品种/品系杂交时后代的平均表现。' },
            { name: '特殊配合力(SCA)', desc: '特定两个品种/品系杂交后代偏离GCA预期的部分。' },
            { name: '终端杂交', desc: '所有杂交后代全部用于商品生产，不留种。' },
            { name: '轮回杂交', desc: '杂交后代中选留母畜继续与纯种公畜交配的连续杂交方式。' },
        ],
        formulas: [
            { name: '杂种优势率', latex: 'H(\\%) = \\frac{\\bar{F_1} - \\bar{P}}{\\bar{P}} \\times 100\\%', desc: 'F1代表现超过双亲平均值的百分比' },
            { name: '配合力线性模型', latex: 'y_{ijk} = \\mu + g_i + g_j + s_{ij} + e_{ijk}', desc: 'g为一般配合力，s为特殊配合力' },
        ],
        prerequisites: ['遗传学基础', '群体遗传学'],
        learningObjectives: [
            '理解杂种优势的遗传学基础（显性假说与超显性假说）',
            '掌握主要杂交方式（二元、三元、轮回、终端杂交）的设计原理',
            '学会区分一般配合力（GCA）和特殊配合力（SCA）',
            '了解专门化品系在商业杂交中的应用',
        ],
        caseStudy: {
            title: '杜×长×大三元杂交体系——全球猪肉生产的基石',
            description: '"杜洛克×长白×大白"三元杂交是全球商品猪生产中最经典、最广泛使用的杂交模式。大白与长白的杂交母猪兼具优良的繁殖力和母性；以杜洛克作为终端父本提供了优秀的生长速度和胴体品质。三元杂交充分利用了母本杂种优势和父本的直接遗传效应。',
            insight: '成功的杂交体系需要专门化的父系和母系品种/品系，各自针对不同的性状方向进行选育。',
        },
        difficulty: 3,
        studyHours: 6,
    },
    {
        id: 9,
        number: '第九章',
        title: '遗传资源保护与利用',
        icon: '🌍',
        color: '#68d391',
        summary: '遗传多样性评估方法；保种策略；有效群体大小与近交管理；可持续利用。',
        concepts: [
            { name: '遗传多样性', desc: '群体基因频率变异的丰富程度，是长期适应环境变化的基础。' },
            { name: '有效群体大小(Ne)', desc: '产生与实际群体相同遗传漂变和近交的理想群体大小。' },
            { name: '保种策略', desc: '活体保种（原位/异位）和遗传物质冷冻保存的综合方案。' },
            { name: '遗传漂变', desc: '有限群体中基因频率随机变化的现象。' },
        ],
        formulas: [
            { name: '基因多样性期望', latex: 'H_t = H_0 \\left(1 - \\frac{1}{2N_e}\\right)^t', desc: 't代后的期望杂合度，N_e越小丢失越快' },
            { name: '最小保种群体', latex: 'N_e \\geq 50 \\text{ (短期)}; \\quad N_e \\geq 500 \\text{ (长期)}', desc: '50/500规则：短期保持适应性、长期保持进化潜力' },
        ],
        prerequisites: ['群体遗传学', '资源管理概论'],
        learningObjectives: [
            '理解遗传多样性的评估指标和方法',
            '掌握有效群体大小(Ne)的概念及其与近交的关系',
            '了解活体保种与冷冻保种的策略与技术',
            '认识中国畜禽遗传资源的保护现状和政策框架',
        ],
        caseStudy: {
            title: '中国地方猪种的保护与开发利用',
            description: '中国拥有世界上最丰富的猪遗传资源，包括太湖猪、金华猪、荣昌猪等数十个地方品种。其中太湖猪的高繁殖力基因已被国际育种界广泛利用。然而，受高产商业品种的冲击，许多地方猪种面临灭绝风险。国家建立了畜禽遗传资源保护名录和保种场网络，实施原位保护和异位保存相结合的策略。',
            insight: '地方品种可能携带适应极端环境、抗病力或特殊产品品质的独特基因，其保护对全球畜牧业的可持续发展具有战略意义。',
        },
        difficulty: 3,
        studyHours: 6,
    },
    {
        id: 10,
        number: '第十章',
        title: '生物技术在育种中的应用',
        icon: '🧪',
        color: '#f687b3',
        summary: '基因组选择原理；G矩阵与GBLUP；ssGBLUP单步法；分子标记辅助选择。',
        concepts: [
            { name: 'SNP芯片', desc: '全基因组单核苷酸多态性检测工具，通常含50K-800K标记位点。' },
            { name: 'G矩阵', desc: '基于SNP标记构建的基因组关系矩阵，替代传统A矩阵。' },
            { name: 'GBLUP', desc: '基因组BLUP——用G矩阵替代A矩阵进行遗传评定。' },
            { name: 'ssGBLUP', desc: '单步GBLUP——同时利用有基因组和无基因组个体信息的评定方法。' },
            { name: 'MAS', desc: '标记辅助选择——利用与QTL连锁的分子标记进行辅助选择。' },
            { name: '基因编辑', desc: '利用CRISPR等技术精确修改目标基因序列的育种新途径。' },
        ],
        formulas: [
            { name: 'G矩阵（VanRaden法1）', latex: '\\mathbf{G} = \\frac{\\mathbf{Z}\\mathbf{Z}\'}{2\\sum p_j(1-p_j)}', desc: 'Z为中心化基因型矩阵，p_j为第j个SNP的等位基因频率' },
            { name: 'H矩阵（单步法）', latex: '\\mathbf{H}^{-1} = \\mathbf{A}^{-1} + \\begin{bmatrix} 0 & 0 \\\\ 0 & \\mathbf{G}^{-1} - \\mathbf{A}_{22}^{-1} \\end{bmatrix}', desc: '联合系谱与基因组信息的关系矩阵' },
            { name: 'GBLUP模型', latex: '\\mathbf{y} = \\mathbf{X}\\mathbf{b} + \\mathbf{Z}\\mathbf{g} + \\mathbf{e}, \\quad \\mathbf{g} \\sim N(0, \\mathbf{G}\\sigma_g^2)', desc: '用G矩阵替代A矩阵的BLUP模型' },
        ],
        prerequisites: ['BLUP原理', '矩阵运算', '分子遗传学'],
        learningObjectives: [
            '理解基因组选择的基本原理和流程',
            '掌握G矩阵的构建方法（VanRaden法）',
            '区分A矩阵（期望关系）和G矩阵（实际关系）',
            '了解GBLUP和ssGBLUP的模型结构',
            '认识基因组选择在缩短世代间隔、提高年遗传进展方面的革命性意义',
        ],
        caseStudy: {
            title: '基因组选择革命——奶牛育种的范式转换',
            description: '2009年美国和加拿大率先在荷斯坦牛中实施基因组选择。通过对青年公牛进行SNP芯片基因分型，无需等待5-6年的后裔测验结果即可获得准确度约0.70的GEBV。这使奶牛世代间隔从约6.5年缩短至2-3年，年遗传进展提高了50-100%。目前全球90%以上的遗传进展来自基因组选择的种公牛。',
            insight: '基因组选择通过大幅缩短世代间隔，成为21世纪动物育种最重要的技术突破，被称为"育种的第三次革命"。',
        },
        difficulty: 5,
        studyHours: 10,
    },
];

export default chapters;

// ── 预设系谱数据集 ──
export const pedigreeDatasets = [
    {
        name: '基础三代系谱（5个个体）',
        desc: '简单家族结构，适合入门学习A矩阵构建',
        pedigree: [
            { id: 'A1', sire: null, dam: null, sex: 'M', generation: 0 },
            { id: 'A2', sire: null, dam: null, sex: 'F', generation: 0 },
            { id: 'A3', sire: null, dam: null, sex: 'M', generation: 0 },
            { id: 'B1', sire: 'A1', dam: 'A2', sex: 'M', generation: 1 },
            { id: 'B2', sire: 'A3', dam: 'A2', sex: 'F', generation: 1 },
        ],
        phenotypes: [
            { animal: 'B1', trait: '产奶量(kg)', value: 8500, herd: 1 },
            { animal: 'B2', trait: '产奶量(kg)', value: 7800, herd: 1 },
            { animal: 'A1', trait: '产奶量(kg)', value: null, herd: null },
            { animal: 'A2', trait: '产奶量(kg)', value: 8200, herd: 2 },
            { animal: 'A3', trait: '产奶量(kg)', value: null, herd: null },
        ],
    },
    {
        name: '含近交的复杂系谱（8个个体）',
        desc: '包含近交关系，展示近交系数计算',
        pedigree: [
            { id: 'S1', sire: null, dam: null, sex: 'M', generation: 0 },
            { id: 'D1', sire: null, dam: null, sex: 'F', generation: 0 },
            { id: 'S2', sire: null, dam: null, sex: 'M', generation: 0 },
            { id: 'D2', sire: null, dam: null, sex: 'F', generation: 0 },
            { id: 'O1', sire: 'S1', dam: 'D1', sex: 'M', generation: 1 },
            { id: 'O2', sire: 'S1', dam: 'D2', sex: 'F', generation: 1 },
            { id: 'O3', sire: 'S2', dam: 'D1', sex: 'F', generation: 1 },
            { id: 'O4', sire: 'O1', dam: 'O2', sex: 'M', generation: 2 }, // 近交个体！
        ],
        phenotypes: [
            { animal: 'O1', trait: '日增重(g)', value: 1250, herd: 1 },
            { animal: 'O2', trait: '日增重(g)', value: 1180, herd: 1 },
            { animal: 'O3', trait: '日增重(g)', value: 1320, herd: 2 },
            { animal: 'O4', trait: '日增重(g)', value: 1150, herd: 1 },
            { animal: 'S1', trait: '日增重(g)', value: null, herd: null },
            { animal: 'D1', trait: '日增重(g)', value: null, herd: null },
            { animal: 'S2', trait: '日增重(g)', value: null, herd: null },
            { animal: 'D2', trait: '日增重(g)', value: null, herd: null },
        ],
    },
];

// ── 预设场景（模块1 数量遗传可视化沙盒）──
export const geneticScenarios = [
    { name: '奶牛产奶量', VA: 40, VD: 5, VE: 55, desc: '中等遗传力(h²≈0.40)，选择育种有效' },
    { name: '猪背膘厚度', VA: 50, VD: 8, VE: 42, desc: '高遗传力(h²≈0.50)，选择效果显著' },
    { name: '母猪产仔数', VA: 10, VD: 3, VE: 87, desc: '低遗传力(h²≈0.10)，需借助亲属信息' },
    { name: '肉牛日增重', VA: 35, VD: 5, VE: 60, desc: '中等遗传力(h²≈0.35)' },
    { name: '羊毛细度', VA: 55, VD: 5, VE: 40, desc: '高遗传力(h²≈0.55)，选择反应快' },
    { name: '鸡蛋重', VA: 45, VD: 10, VE: 45, desc: '中等偏高遗传力(h²≈0.45)' },
];

// ── 微型SNP数据集 ──
export const miniSNPData = {
    animals: ['G1', 'G2', 'G3', 'G4', 'G5', 'G6'],
    markers: ['SNP1', 'SNP2', 'SNP3', 'SNP4', 'SNP5', 'SNP6', 'SNP7', 'SNP8', 'SNP9', 'SNP10'],
    genotypes: [
        [2, 1, 0, 2, 1, 0, 1, 2, 0, 1],
        [1, 2, 1, 1, 0, 1, 2, 1, 1, 0],
        [0, 1, 2, 0, 1, 2, 1, 0, 2, 1],
        [2, 0, 1, 2, 2, 0, 0, 2, 1, 1],
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [0, 2, 0, 1, 0, 2, 2, 0, 0, 2],
    ],
    phenotypes: [105, 98, 112, 95, 100, 108],
};
